<mat-card>
  <mat-card-header>
    <mat-card-title class="m-1">Insta Mart Corner</mat-card-title>
  </mat-card-header>
  <mat-card-content>
    <button mat-raised-button class="m-1">Apply Coupons</button>
    <button mat-raised-button class="m-1">Pay with Netbanking</button>
    <mat-card class="m-1">
      <mat-card-subtitle class="m-1">
        Pay using Credit or Debit Card
      </mat-card-subtitle>
      <mat-card-content>
        <form [formGroup]="paymentForm">
          <div class="d-flex">
            <mat-form-field appearance="outline" class="flex1">
              <mat-label>Card Number</mat-label>
              <input
                matInput
                placeholder="###-###-###"
                formControlName="cardNumber"
              />
              <mat-error *ngIf="paymentForm.get('cardNumber').errors?.required">Card Number is Required</mat-error>
              <mat-error *ngIf="paymentForm.get('cardNumber').errors?.pattern"
                >Format should be 123 456 789</mat-error
              >
            </mat-form-field>
          </div>
          <div class="d-flex">
            <mat-form-field class="flex1 m-1" appearance="outline">
              <mat-label>Choose a date</mat-label>
              <input
                matInput
                [min]="minDate"
                [max]="maxDate"
                [matDatepicker]="picker"
                formControlName="expiryDate"
              />
              <mat-datepicker-toggle
                matIconSuffix
                [for]="picker"
              ></mat-datepicker-toggle>
              <mat-datepicker #picker></mat-datepicker>
              <mat-error>Expiry Date is Required</mat-error>
            </mat-form-field>
            <mat-form-field appearance="outline" class="flex1 m-1">
              <mat-label>Cvv Number</mat-label>
              <input
                matInput
                maxlength="3"
                placeholder="xxx"
                formControlName="cvvNumber"
              />
              <mat-error *ngIf="paymentForm.get('cvvNumber').errors?.required"
                >cvv is Required</mat-error
              >
              <mat-error *ngIf="paymentForm.get('cvvNumber').errors?.pattern"
                >Format should be 123</mat-error
              >
            </mat-form-field>
          </div>
          <div class="d-flex">
            <mat-form-field appearance="outline" class="flex1">
              <mat-label>Card Holder's Name </mat-label>
              <input
                matInput
                placeholder="Enter You Name"
                formControlName="cardHolderName"
              />
              <mat-error
                *ngIf="paymentForm.get('cardHolderName').errors?.required"
                >card Holder's Name is Required</mat-error
              >
            </mat-form-field>
          </div>
          <div class="d-flex">
            <button
              mat-raised-button
              color="warn"
              [disabled]="!paymentForm.valid"
              (click)="submit()"
            >
              {{ total | currency : "INR" }} Pay
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
  </mat-card-content>
</mat-card>
